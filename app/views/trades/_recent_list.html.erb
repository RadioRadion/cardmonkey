<div class="divide-y divide-gray-200">
  <% if trades.any? %>
    <% trades.each do |trade| %>
      <div class="py-4">
        <div class="flex items-center justify-between">
          <div class="flex items-center">
            <div class="flex-shrink-0">
              <%= card_image_tag(trade.user_cards.first&.card_version,
                  class: "h-10 w-10 rounded-lg object-cover") %>
            </div>
            <div class="ml-4">
              <h4 class="text-sm font-medium text-gray-900">
                Échange avec <%= trade.partner_name_for(current_user) %>
              </h4>
              <p class="text-sm text-gray-500">
                <%= pluralize(trade.user_cards.count, 'carte') %> · 
                <%= trade.status_badge %>
              </p>
            </div>
          </div>
          <%= link_to trade_path(trade), 
              class: "ml-2 inline-flex items-center rounded-full border border-gray-300 bg-white p-1 text-gray-400 hover:text-gray-500",
              data: { turbo: false } do %>
            <svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" />
            </svg>
          <% end %>
        </div>
      </div>
    <% end %>
  <% else %>
    <div class="py-4 text-center text-sm text-gray-500">
      Aucun échange récent
    </div>
  <% end %>
</div>
